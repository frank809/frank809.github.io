---
layout: post
title: 胡说八道 - 开餐厅 - 货物发送篇
---

>信息传递的过程说到底还是物理层上面的单个信号，只是通过不停的聚合呈现了不同的层次，目的和功能

###  货物
厨房要开工，需要食材。我们假设下从重庆发送20吨火锅底料到泰国餐厅去。我们在餐厅这个层面要传递的就是20吨火锅底料了，在泰国餐厅里要接收的也是20吨火锅底料。

###  运输公司

餐厅将20吨火锅底料给运输公司，选择了TCP运输公司。运输公司一看，我的包装装不下啊。于是将20吨货物分成了10份，每份2吨。每份装到自己的包装里面，在自己的包装上面写上公司名，编号等信息。然后将10份TCP运输公司的包裹交给IP物流集团。

###  物流集团

IP物流集团从TCP运输公司获取包装，使用自己公司的包装再次包装，并且在自己的包装上写清楚发送地址和目标地址。将包装好的包裹交给本地快递公司。并且通过ARP，获取到目标地址不在本地的时候，发送给网关。获取网关的MAC地址。

###  快递公司

快递公司收到从物流集团来的包裹后。使用自己的包装进行打包，打包后写清本地快递源地址，目标地址（不是本地地址则是网关的MAC）。 然后将包装好的包裹通过基础方式运输到直连的中转中心去。

###  基础方式

基本上就是，汽车，火车，轮船，飞机，马车， 人力等直接运输的公司。快递公司将自己的包裹外包给基础方式运输。 20吨货物到这里，已经被层层包装了，不过，这里不关系货物是什么，多少包装。直接使用运输工具运到路的尽头（线路的两端）。 这里，尽头连接的是快递公司的交换中心。

###  快递公司

当货物到达快递公司后查看，快递公司的地址，交换中心会根据目标地址，将包裹发送给网关所在地的快递公司，此包裹继续交给基础方式人背马驼。

### 基础方式

通过交通工具将包裹运送到网关所在地址，交给所在地快递公司。

###  快递公司

快递公司发现包裹是发给自己的，于是将包裹解开，将IP包裹给物流公司

###  物流集团

物流公司查看IP物流包裹，明确下一个需要发送到的地方是哪里。查看IP包裹信息和自己的IP路由表得知下一个要发送到的路由。

### 快递公司

物流公司包裹再包装，写上源地址和下一个路由的MAC地址。找基础公司干活

### 基础方式

获得快递公司订单后，将快递公司包裹，通过运输工具从运送到下一路由位置。

> 如此循环。。。直到到达目的IP地址网关。

###  基础方式

货物到达，目标路由。交给快递公司。

### 快递公司

快递公司查看地址，发现是发给自己的，于是拆包裹，将IP包裹取出来给物流集团

### 物流集团

物流集团查看目的IP，发现在本地。然后再次将包裹给本地快递公司

###  快递公司

快递公司包装包裹，给基础方式运送到目的地。

###  基础方式

基础方式运送到目的地。

### 快递公司

目的地的快递公司拆包裹。去IP包裹给物流集团

###  物流集团

物流集团查看目的IP，发现是发送给自己的，将包裹给运输公司。

###  运输公司

运输公司收到包裹， 拆包裹。等所有包裹都到后。组合然后给火锅店。

###   餐厅

收到20吨火锅底料。。。。。。。

流水帐形式了，以后来整理吧。促进下思考，上个图（侵删）

![netlayer]({{ site.url }}/images//netlayer.jpg)
